**1.1 Напишите список операций, которые вы будете производить для остановки запроса пользователя.**  
> Определю идентификатор операции, которая длится более 3х минут с помощью  
> db.currentOp({“secs_running”: {$gte: 180}})  
> Завершу выполнение операции с идентификатором с помощью  
> db.killOp(<opId>)  

**1.2 Предложите вариант решения проблемы с долгими (зависающими) запросами в MongoDB.**  
> Предлагаю использовать метод maxTimeMS для ограничения времени выполнения запроса.  

**2. Как вы думаете, в чем может быть проблема?**  
> Предполагаю, что для сервиса redis на сервере стало недостаточно ресурсов, что привело к остановке сервиса.  
> В FAQ redis указано, что при использовании всей доступной памяти возникает ошибка записи.  

**3. Как вы думаете, почему это начало происходить и как локализовать проблему?  
Какие пути решения данной проблемы вы можете предложить?**  
> Полагаю, что причиной проблемы стало увеличение объёма данных в базе, возвращаемых по запросу.  
> Эту проблему можно решить изменением запроса так, чтобы объём возвращаемых данных был меньше или изменением значения переменной max_allowed_packet.  
> Локализовать проблему поможет чтение логов сервера с переменной log_error_verbosity установленной в значение 3.  

**4. Как вы думаете, что происходит? Как бы вы решили данную проблему?**  
> Ошибка говорит, что запускается процесс, который завершает приложение, чтобы спасти ядро от сбоя при перерасходе памяти (Out-Of-Memory Killer)  
> Существует несколько способов защитить приложение postgres от OOM-killer`а, рекомендованный разработчиком - это установить 
> параметр ядра Linux, задаваемый переменной vm.overcommit_memory. В значении 2 ядро не будет резервировать памяти больше, чем доступно.